"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
//! annyang
//! version : 2.6.1
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
!function(e,n){"function"==typeof define&&define.amd?define([],function(){return e.annyang=n(e)}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=n(e):e.annyang=n(e)}("undefined"!=typeof window?window:void 0,function(o,p){var t=o.SpeechRecognition||o.webkitSpeechRecognition||o.mozSpeechRecognition||o.msSpeechRecognition||o.oSpeechRecognition;if(!t)return null;function g(e){for(var n=arguments.length,t=Array(1<n?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e.forEach(function(e){e.callback.apply(e.context,t)})}function e(){return r!==p}function m(e,n){-1!==e.indexOf("%c")||n?console.log(e,n||w):console.log(e)}function a(){e()||u.init({},!1)}function i(e,n,t){y.push({command:e,callback:n,originalPhrase:t}),b&&m("Command successfully loaded: %c"+t,w)}function c(e){g(h.result,e),b&&m("Heard speeches are: %c"+e.join(", "),w);var n=!0,t=!1,r=p;try{for(var o,a=y[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var i=o.value;b&&m("Trying command %c"+i.originalPhrase);var c=!0,s=!1,u=p;try{for(var l=e.map(function(e){return e.trim()})[Symbol.iterator]();!(c=(d=l.next()).done);c=!0){var f=d.value,d=i.command.exec(f);if(d){d=d.slice(1);return b&&(m("command matched: %c"+i.originalPhrase,w),d.length&&m("with parameters",d)),i.callback.apply(this,d),g(h.resultMatch,f,i.originalPhrase,e),0}}}catch(e){s=!0,u=e}finally{try{!c&&l.return&&l.return()}finally{if(s)throw u}}}}catch(e){t=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(t)throw r}}g(h.resultNoMatch,e)}var r,s,u,y=[],h={start:[],error:[],end:[],soundstart:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},l=0,f=0,b=!1,w="font-weight: bold; color: #00f;",d=!1,v=!1,S=/\s*\((.*?)\)\s*/g,k=/(\(\?:[^)]+\))\?/g,x=/(\(\?)?:\w+/g,R=/\*\w+/g,P=/[-{}[\]+?.,\\^$|#]/g;return u={addCommands:function(e){var n,t,r;for(t in a(),e)e.hasOwnProperty(t)&&("function"==typeof(n=o[e[t]]||e[t])?i((r=(r=t).replace(P,"\\$&").replace(S,"(?:$1)?").replace(x,function(e,n){return n?e:"([^\\s]+)"}).replace(R,"(.*?)").replace(k,"\\s*$1?\\s*"),new RegExp("^"+r+"$","i")),n,t):"object"===(void 0===n?"undefined":_typeof(n))&&n.regexp instanceof RegExp?i(new RegExp(n.regexp.source,"i"),n.callback,t):b&&m("Can not register command: %c"+t,w))},start:function(e){a(),d=(e=e||{}).paused!==p&&!!e.paused,s=e.autoRestart===p||!!e.autoRestart,e.continuous!==p&&(r.continuous=!!e.continuous),l=(new Date).getTime();try{r.start()}catch(e){b&&m(e.message)}},abort:function(){s=!1,f=0,e()&&r.abort()},pause:function(){d=!0},resume:function(){u.start()},debug:function(){b=!!(!(0<arguments.length&&arguments[0]!==p)||arguments[0])},setLanguage:function(e){a(),r.lang=e},removeCommands:function(t){y=t===p?[]:(t=Array.isArray(t)?t:[t],y.filter(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.originalPhrase)return!1;return!0}))},addCallback:function(e,n,t){n=o[n]||n;"function"==typeof n&&h[e]!==p&&h[e].push({callback:n,context:t||this})},removeCallback:function(e,n){function t(e){return e.callback!==n}for(var r in h)h.hasOwnProperty(r)&&(e!==p&&e!==r||(h[r]=n===p?[]:h[r].filter(t)))},isListening:function(){return v&&!d},getSpeechRecognizer:function(){return r},trigger:function(e){u.isListening()?(Array.isArray(e)||(e=[e]),c(e)):b&&m(v?"Speech heard, but annyang is paused":"Cannot trigger while annyang is aborted")},init:function(e){var n=!(1<arguments.length&&arguments[1]!==p)||arguments[1];r&&r.abort&&r.abort(),(r=new t).maxAlternatives=5,r.continuous="http:"===o.location.protocol,r.lang="en-US",r.onstart=function(){v=!0,g(h.start)},r.onsoundstart=function(){g(h.soundstart)},r.onerror=function(e){switch(g(h.error,e),e.error){case"network":g(h.errorNetwork,e);break;case"not-allowed":case"service-not-allowed":s=!1,(new Date).getTime()-l<200?g(h.errorPermissionBlocked,e):g(h.errorPermissionDenied,e)}},r.onend=function(){var e;v=!1,g(h.end),s&&(e=(new Date).getTime()-l,(f+=1)%10==0&&b&&m("Speech Recognition is repeatedly stopping and starting. See http://is.gd/annyang_restarts for tips."),e<1e3?setTimeout(function(){u.start({paused:d})},1e3-e):u.start({paused:d}))},r.onresult=function(e){if(d)return b&&m("Speech heard, but annyang is paused"),!1;for(var n=e.results[e.resultIndex],t=[],r=0;r<n.length;r++)t[r]=n[r].transcript;c(t)},n&&(y=[]),e.length&&this.addCommands(e)}}});